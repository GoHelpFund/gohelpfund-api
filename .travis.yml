language: java
jdk:
- oraclejdk8
cache:
  directories:
  - "$HOME/.m2"
sudo: required
services:
- docker
notifications:
  on_success: always
  on_failure: always
  email:
  - daniel.tirzuman@gohelpfund.com
branches:
  only:
  - develop
env:
  global:
      # DOCKER_USERNAME
    - secure: Cwough/dB3kc9BpBLLKvInXl3puNVEST5xlh0unjliWuyvWmqcdUR/gsjNZ8xBE6c/MwBEnXnUVoq/lykcaq0mvk9wTnk/aIseCBA1v4xoWQkuD4g2Z00fvToTLWstqkU21vjHwKDHmeCG4K4PgDYlNqFM0169FlOiQhYG2zm3k5f2gzinAVvqEL/x6Ta0GjKwXgoz8AA+RJpJq8a6Mskrjyc/oAii1RN7d09mp64eh8nl9CV64inx//uIwA4/5xrgARRQqUW9ddwCg7UG8DEWX7+vvCYAqntefxg/+poel0+5I+Hzi6pJ2v05UYX5MW9pQ8nGSOiEzoE0nU4SB7c7x3OKVW4k0/VMlnvqk/WSw3ZKpSTBB3Qdkb+GUVzc4kh5Ust4YvcrWBkOsoqJUT403SY4O1aj7a+AkVQgYPMhaor5C9AdJi6mF+uWcTjtcLcxUTH/oKR00Sb7gUfpn44goSZCUdN7CberwNr4fO9CH14YPCG6O/xHH9VFWOudbfsl8KBvcShXqhngOlDwQpm+yNfk1nI1/4q1x5zTBiW5KpaTuq7Amg9EyYg3U5+9Df/1R/IbMcCL4IWaVKd5VZudaoMoz3BD3eo+nI08P7WZH8lddNC+M7XRhRcWapiy5NsQGDuFI6st2aUq3v1UhHI/0vmD5iaCVwKcoM3R6gHsU=
      # DOCKER_PASSWORD
    - secure: MKrGOjTKR8+O57vZeXG8byZbZoSdGIRWMEDmfQs5FnBwjAvJ+4NdcGagFg+BFNKI7YWFHaIEhGsuKhQKkw742UKbLZ398kb1X/4Qy2BeQsvDlpewaLt79HXyZ0U7Ak9t9ETkGy6yG2Bz342sILQqDeheN0aA8OpqPmzhY0nirfoqHcd2IjN5TTw69O7fWfYcgaDuqsbQkKss+uUNx1mv79xYrYj5mejBuwCK2De3Et/EPWNm76O9i7g/9YcukoSkQOBo/d2fMbebZ0hOzeOWNyMcgPDsLRmtAWF1lpgPW1Iz0ecGOetJOSm3SWFeD4kGvOXqsIO5PWldD687XZMyEtS11Q4zkVi40MtS3SKoQIGfYNcH6+jIsmL7EmBF7+YbI4vlJ3Y4Rwj/snsoiN6zVOTXYG0i/AbLxAnaYINUaI6Td5U8QAfc1b7HAerCJVOiNupcN71A6jazN2p2DtkGkHxpqn5P+FqOmdtvTic0AJ6s3elOxnOPPpj+8LyMH3gZu4rLvLtzOISrqGxZxUMIi/1M0fcyUC3fuXj2bTtv9awx+TbEIDIR9o+z6zvHpYxyghx38DaZiyq/87Bbm7DWI3W52hzvqGwutnYrbCLBNR9R/omMqgX5tS1uILkyAnSjHuZ+w1PmgI3Q/kaYEuG2GFUSXRiWCrD/SD3iczbDQro=
      # AWS_ACCESS_KEY
    - secure: Gt7JDBq484VxuIora0e8HFN0H4//lHNvxmGKq4XFBBb5iKE2E08H+AeRY3yDCPWdVec712inaLR8OekMcTkQmB8mc3ChOWZD5h8IHkyoiYH/GjEVG9CPx3sAFROEmH86Kcdb4EpANU66ABTJY+rmU4iy3atTBMIN09LQbo/T7+yehjKEJo9ednJB7F48/ANYqdDJz0xvJldHQUqTKaarjjjMYCqxFZK6Gzmf0dJJ0RSQYXWG+orBWpef7o+fUj7MRlIMfJij0cYg+3iP92Zt3XsB2VFgTyCjyUtEUFF6ojWuqDrh3IAbpWoytJ3RVrHXUdlRojodEyQC7EjnN5WhICqeGTaWU0Vv1nfFRT42XltndPlK03cjJJdNOjCFOAptOv2qtBSzn6yzBboND2bwmga3jz9LGllL8RcTILxfCkE1GY6MFB1g5FuiSJQhjv1DD6LddlWEP0Xt+5EQpdpfvgSh5O60RtGyZuMUQSEU93ZKvs0wDX/e2piNtGcFrVEe2EQrN/fN/JofNuhqZHnVP6mBxlRm7Tu//o0yJ6Lw3Xnd7H12ZLEkmlIfHtvrrcVCJCv+kdckxTSoxspYUSkrIHt2LuGThb8VxUiQsNd4Ud2hQ+Uft0q8EtkB74nAcQ3+khutPB8YKVO7277/Z1bXqp1Q7wK66mjgyecnm6BhVGA=
      # AWS_SECRET_KEY
    - secure: Sk+28WlvD8PuD6UZQuIhhFCXZ80Tg7WAKkzNs7unZ/xgTQ0i9R2W8sByWUTyc4V0UgPtaz40eQf9rSa4asXxnuP/mRL+DFn+uBGyWqDe8ExOzkZQHnkf23meoZqEAlajQVJeC5blt7Xs6k+Lh8Sz3UM6wpqgFxdYHMoERKfqWThwa/pRSnNbUuX1xsYzbvFtvdjzwgNrKxwgO8SXHemZWzTGVUaQieqGh55YMjEyHRInlmSiF7Q6BirH3e7miIkLYopKNusj1fjxbArqA0g21DlxtMm/vxP76Q7hqXTapT8VUKQA8ZdyL4bSzGZs83WZnyZSwVY0dXxOYqc5bBawwLNFtbH775o6fYeZFy5rkbmz1kp2mP/5CsetyV1Z1muikFmiWhIkjRLErZtmuyqW/3+ziRH9GUCGjPDJOlZ0Le1uijeNV1cRcu2VSqHtrQfVyx4dnzZBOjTt//0W4pdk036ztkAtnTZTshdXKqPf11t7nAE6O7NaIJFnPCF/Gf8ciC1DDyHHg1+Bbbw7x7QAA8KsRlEC7bVTBq2yMViW2pU0TmCDckdGuaOiyNIaAfYgvtobHk6zzyMdbYPlBT8WSo3MeKvsREk1rDOKZvXaKFX2rNAf+07rDjgBNp+Js77MxmCAhaHrU80kj163pdW1tbikfqi0QRGUEL1VLiqMsx4=
      # GITHUB_TOKEN
    - secure: mETqR5fwJ6Q6WXubW+mL2XXXLNlr6glLI9uO5Q90Ac/GxXVNlBWswxe1KBGLXxh1vc0MvRPQ0kel0jjGHjI3W13QmmRF7kgcTE16cKyC1fXfJYshCGCEiQq/lDo3bK8B/vT03GJFHihrXiS8hmJbv56n7hRruDWFyB8IyCTOGyXfSsQ79Q8eAO1GuCO8zUm8WlYJ1NNL4gEk1j05i4JzqK3USg2X77GRi21ocC9oI0v30hHi2sUhyEC/4ApKxw1THwY9B6sICxTIP2kc5bc3ZVP8JLAj/znsWS9acbjsFFLp/+q/Jb88fjjXtdgLczQSluESv0A5SoXtFt7N0vQNt2qMVVq+zwH2EgjaRezvP7FeK9xwxUZ1RtML+0zoGtmtpsQlZhU534ffn7eqmZBOCq6ffTgp0yhK6WwcglxHfCfIytgV2+N84rIkVwLSWNaMU56aaFoCVQldXHiiTpbl3AtnkEVYQ/tvbZGV8XA2sSp1reZ0Aq3IjQ21GzvnCbrwuE/y6zaRbl5Whx8DzizR9UZbB3D61z+QF1crBlwLnQ+AmG5qWwea6DR0WIUEVvAYg1bvxSPVIsaSR4o4uxKq91EbAqL/rydJeIF/VoeWPX7b3MwzuCrSssPmKqZutueBerpJV64G7FeeTZzUIQcKIECHM0nX2eUS+LquPX/aCM4=
      # GIT_CONFIG_REPO_URI
    - secure: fNCj4GpkNxayBt+2q1rj0O1HET0HErGY84KFO9UfRRGeUawmj/Atz7QCfp/2lQR/d0LaosUQvQwamASa5kzJpnMANCHB6kiAxebEKSVNAGPRqz+03nbclY4q1aM7etK3fgqiEi/jcXU1SsXqPLmrrQRWpdu7z6oCHp83L7PSy8bEAQfaEA723OZOVlFlvF6iPZDKa+FNE/oGLpIUjtHxgaVlCO/xcPCH4AorS+0SwGDiXCBaS3HrpjUNOil59X0Ash1500tHcFnXKIVJf0hHe5EgnnKOmqAzG9ARXa6LpL+3AfifovWksWklBHrjmhBmeDj31m2+bO9IJTvdccJhvdYZ0dbSOSE3DLqfpta4BCsKTGxds6lEZvW3XTqEqH7YC9751OaK5vEioG9hRe9xMQRDtB+xPF1JQxDLSeGjKu5lqA3o10iz5TqF7HbY0D1OaNXeMOQEGyKHyob91Cd554dx3gyyWB5rjxlo41wAMI7VCSMGTKdWjSFRvaNBno+4GEyUV9wNfT10sjWiRyJexMD7KrHNAAjWxg8V6S6UePYueX5npfP2MiXiuQrsciwYuGloXGOqiltdllN3ePeERlLE4Rlu17GL1f4fSACFH7b/dMSlLTBD5JeJa8T1soEsgbhV6WRh7eVzFw2uW1CbEVaG+ZJKUlj2jYt0zxtE5Wg=
      # GIT_CONFIG_REPO_USERNAME
    - secure: Q5PDDVq1LNg71HswTBrrCZDOdYdMkFIyyXrgqgvVnDSa5HDj2yaUdNJrl9RMnIGgCxVvYEmsLjyTLBkbESL9p/VC1/Bo5bDiUwbRp4dct1F6GZms5/wj9vFC1Wx9ZQsy24cq0+xoGbx1BClIDsgpIwCX5EQI27gOdiTV7mhXOQ7J4D4fy6ikPtOs5lkTr3DpJ//fpuOf/t892TbdpDcWas261Ql5MOs7r2HEAlspMc7/l5X4f8+JaLH1C9sA20pygQz0QRAiIchg/SlToFM8hNBE7SyTmuwJi7PkpDSMRFcudtlV3ahLbQHFtNMGclkA667PW1hJ8OL7FMIlovQ53zqsl3+f5iQHUUHv3dVxEp/nKyk/SYqZRsPKIukBsQpZ2j8hmMGEAn/Ok4+0Y+fdm9zDRPTqdFeI4qXgwBm1JHWM80ziDyrH2KX1/xc2ltHtfKzxOvv0jDlTiKsUvAlzkfy5x7fi9ze7YyZB2igSZFZspRWAwm7R4rF8pKoPdnKcBf9ZKAN5mdJzUSdbBmbS8OGYvyY6ZJIPXFlOvBb2vIdy53Z+WY+IVUXuYi/Wz9a1ApnNdRUKz6c9nlEfmnglt+klW024obFyUnzIENOE7sOnqo0jZS/0hRSRJAOCtYZclEGqhZmih6sYLYQiMmLYY0LxfyLJCBWDfM43CC7HLxo=
      # GIT_CONFIG_REPO_PASSWORD
    - secure: SsqtyNjMcygg1VS9s7hZNq+JYPzJ30i+u9sgXvAaWlLa7XCUbIp0GqpHwwheomdCqfNIxCNff9UIwp+IwB7Vul3YWEr5WFI4eLMgQOMdtyWBFhzhjUsLvVQfGguwwvWogOpd+bxFRrDXY2iJF+tq2Md/bBTnO9Hc8lm7OFoxcbcG9ojzbd45ujB+uHzz874HNgdXTYSnGMBbRLtNUkKSVEsxyauWRQT9vqgO1z26HyoxzSPVqftMdVQycT/QRetz2TJkTC2uwZazddolVNLlEN/YItgYdLMf1B9+zbvLFf4rflt5/yyO6wAI+ZOOJmYCAGlsvRLfVuDpwF+MU7SlCUir9usDXOWA0Sgh7gYAGWp01+aHIRd6kIZuZ8m8cu2SrmAedOaVmHa3/rW2SsIeorwkPgN9je4j8JWXVLGvZH3TaJV6twItt/eKkcs+hXCclpP4WPPalkduTCFY6fSuhaLgu5M8JOpIjsVScVWD6SCh8CttSLAY0CVTHYWc3b5CmnNfnJqbBGN5uxrrWLiOdUfGgOOKHtNMsQkk89dGnGOIwDJhNEms2W29UJKx0l59fs9enIKyJUICt2tQ/Pe4HvTbzQ+au0E2jKJHfbqr3LsAbxeV71P75QaGSpdZQsgNDeLRr0OuldBAcUnf2gPw721/4DqQO7Imd5sYJ3CJv2c=
      # SYMMETRIC_ENCRYPTION_KEY
    - secure: UUedcbWDH3oYD7EDg4eon3YIdVES/cBaPx8hqaZpfVGNIOF5HXAYwPmLiUEKiSiA6sNRskrMU8pWK9FrXfv6dxSAMO3tcSF/6zKRqFcot6yzU0sAozwZp0dKECaCMVqxK7VUS1+P0VFIkmZ+VciJLJjobPuPe1QyMfYVA/ty9QlYiq1odJNtgtKjC9B9MSO7PHq3d1b5w7LwTx4/EqBi65muhkPzL6/0KxfTioHwoBtuQpoo3x3IkUPcYcA0gBDd3faSeFPIovkCMxWUDGH2uSlrGzOZW1Pq4XTAmeAKZp8Nl+SZ2OS7Q/gKIGdZfF0JwbTL72jeXyMBxPPUs3cYQ5GZiAA7+5qqZZe4iWOZrMyVuRi3ElossjV6i0ajHpm45xsm7oobXxpgKzdJ/3HHqHP0ZJqTBlhzCRxgJxgNSATaV4KtlzrZ4ux6KIPYgZ6gVlZgjMu+GlGAMSEF3Pqae+Oh00wrQk2GYmzcKj/bOWWFOtSW6KpXScrP/eVQpdURI2GSNpLcUtWyDOkRvYINTHICi1F/LxR2wI0dB++Yso/u7zwp5Fv1NM8XxcJCxRFLNvy3PKVewIb0Qpos2c9RGoivd82eJGQnsVTcoePapBHVD/nnwVBFqshmYvwkD54nvGBdJtmWgDIdpHfvEKGYTJOnWClrOss9dCprucCirTg=
before_install:
- gem install travis -v 1.8.5 --no-document
- sudo curl -k -o /usr/local/bin/ecs-cli https://s3.amazonaws.com/amazon-ecs-cli/ecs-cli-linux-amd64-latest
- sudo chmod +x /usr/local/bin/ecs-cli
- export BUILD_NAME=gohelpfund-$TRAVIS_BRANCH-$(date -u "+%Y%m%d%H%M%S")-$TRAVIS_BUILD_NUMBER
- export CONTAINER_IP=18.184.83.174
- export PLATFORM_TEST_NAME="gohelpfund-platform-tests"
script:
- sh travis_scripts/tag_build.sh
- sh travis_scripts/build_services.sh
- sh travis_scripts/deploy_to_docker_hub.sh
- sh travis_scripts/deploy_to_amazon_ecs.sh
