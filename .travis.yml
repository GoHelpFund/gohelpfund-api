language: java
jdk:
- oraclejdk8
cache:
  directories:
  - "$HOME/.m2"
sudo: required
services:
- docker
notifications:
  on_success: always
  on_failure: always
  email:
  - daniel.tirzuman@gohelpfund.com
branches:
  only:
  - develop
env:
  global:
  - secure: er+4VHE1uwYrls2FP3BQvNu3BIe+iTx+KgY+Xeax2kieXBkoTPGVBQL5LHzU5xiZw73+zTFS55cvLqIb7oKF6jPFJUb8ipm9wNyTBGGpkTHKSivjirktmpaflRobU0wtPwRJipL9y6lN9xQaQvyadjMr+xHfpkxflqF2ZZtkOf40Z9INXcCqbs6tD4B0qJskX07/jsqrhm0w3yBwLHHE1rkTOq6A9db8HFaBvFgGyjVy3yoB7wJeh0+MdwpqBFWO9MKWUbA4T0K1/wLvvsXz33JmDJwacVe44lhmAqNjsQERtVAzIFSjYGAKcnw77k/kOO1ly1lJGjQbrtUC+4S3fh2ucFiMH9WOn3p17RIXPLyj7fa0wZI6516N6tbTMJOimx5DXOgwkPDyoHiAphaiekxAMP/FSd4tYa5fXHXS+5U3iP3IVcqQDmfprTdMPu8xyNbTyTHhyDMjoWym1BrNiwQcJF/XhVvQ2l0VtxvBOWq6+RTPU3UGokmEQbTVj1y19hy67s7LKofth3Ru84Dy99UL5fXoaQU5ASNuvlXRRbb//XsDxCoUUUtRkvYrLCTyFCBuUuiD2dD92AjIGe6rcwQErqG7cePMLvHOu1v2LpmKLkqUub9dv3FEWlT+ajj1dp4p7VZt6rHwdv/5GW6zfRhlBUULzjExT85KnSvwk88=
  - secure: iBWp3CQguFICXO5sJWjxDWZPE/v+EyU3k2jhkTAKbz5Xr+ucmFf0Wp288+uH+9U2i+nWeQBrRzm+OfcJnQAuGbQ39E3O0lY1KlRdeze6rqmpCVO/1eH1F2ClQO0NMdfGk4oRrGc9+0jXGf9F0LlvvkmZT3JssGeh2jfZq4zifF5A3+XzGL0RkspattBwh/Henh6gEzBf02IvgNMkWKEcqMfF1IiXgu+L7IXL2DtLLSFTQ5Z2jY/KP98rcrXS2kSj+Nct6aWOO2ioqT2mkm9yReFXjbsEISomr9t7qjfRUKAiFUGmBIzrBel3s7xdg3c41joGD8GnX5T0mPGKvzj9geVegQmh7e9MxMDPolmN5iU+6/XSWkqrPHrpPTl0WKK3MbsbIrTJ87LeAeoG/yfoksrq9wlYtIJyNHqsTts6BEy1dG5pFzoq6aKj6WOP2lvXCNJbJOosygjgECrQscLes0K90FmUn6he6CE0sDI9SCuKZJdM5dQDs2EJ+NBUCOP6k5uaJmP9ichAM560O0X+QoFDXamtH1TsO8wFQyRI6wmRdkh0Dk3zfi1GI6+K75O5Q5URz0PtxtO2e1MF64Ji9JCaaSOOuvuUdBCKo3eiSqDk1zO6J9+B8Q+Ogn8ibtU2+6Cg1vM5A4UGiNijJTry5G3jqtlbzDPDC8sijOshLp8=
  - secure: qlDy6DIbyQJr22NxPUF1jM+NDbbZu3Y/WL1UY4ynPj78F3xAtZ+DwdB+sC4cz3t77ZN5xD+xrK5Xyg6CsPKYBjQ+3AkP5aIvnFfYID5bNmjwgV5DfgZKqgFihBRldapBI1SFAAEmWKCixt6ViQchuXSagcP0ispdYGz2u3At8cqOHJ4uYr0U3EDV0LbVW4c180QAjSi5pR15Y4aOiq+5QZInF14IcO5QTp7eZe+uZ9eqxnQfFmD6FBN/Kukz4ySD1ZH6w/BgIMlAHB4SOhhJ84QD5N8ZUju/DHF6gV2iK8NUrecyFtz3w8CRNTS+/ghkRg+D1/Qu2cedXD8p5aArQVQ2K5cOxoBewTSPRloqYSdcjGgnYX8wOrPTodsIijafyG7/d2tdpnuNtdjMZXQAz+c/MYR7zzO0sZkS4/IIT6CkuU3epClnlGbo1L77TEsNhWhvI1c9Ci1xHBi42r8u7l/59ozf7CEzvskbEl+mmj9wnxeo2pzYUl4f5tCRgjTPVT5ccQhWXK4HgP4iJXOiChayPxcYCGo4rBAFOg1liDxytM/22kiuVvQNK5uOHbrp/4e1PZAfpBzYE8MP6hUJqqmijQDqFZxLmxn4wKxFsIVcJFzZmw+UDQfGLlIW3a1RGenADdWJZNn1EAsg16I8LHRl4kxWbxLGJfzRixyqH9A=
  - secure: RKud9BpIjOteGDFjcwu7g3Tzmtz+m+fOCqgMZ9H1fR2Na9qdbtTzWNiHN7SeBODZhMLQz+1BRtKqdH0Qj0YhfbNdZjE6SxmjdUcCI0lZeXr1K1tbbOSJCg1dEPmBMIx72wWudazYe+hEw1yYc0JCGLezrJrGZ1DnXduKq1sOZ6I5Cs9tS/S5tvdpoWe/Gr49LgQfEA62TRttn/X7T0swnnpe+Wez9I9AMNLuaBPkqd5Ff8/s7oO1IUda+9RS+hO19eaRs8DmXGKllp02GXafTqTuuBEPVO3tcY7omWsuEiAyWarny8yrp+k8O/I4LJzUSsmDSGses6ZMS4Fc8rkM/xl/yyF9ko6BpyIbWAYpWVRvH4oWD2lE4IywuO3aP5hEnWQCLfvd+uZcukSC/8MBu6r2canBhgpyus6Xonpc/FOJ/i3ClA1vOaZAveDwjdTx5nmP8kSQkZJujdbTrrrBPdGm8pmfTUbV3DkdliRr+TkqsRBrsr6NtQQyAmrpB4nXMkfDg8swFDfuBQ83HRoE1b6CcI/8EsB+Y6ZLjpEW4/vND3hjTGSLlO7dj/LWpOK0Ta0JbO6cbVcH4Q9KLxK73cJuVS+P+2/3OEpXQ/Te6vztYmoHVRNrT6MFrhtwXlbJy9uQ7lnspqwFtzekTYRCRzLmWiJkLIDBZF6ddORhEw0=
  - secure: hQuz8Jn+OxxbaCx54/1v3yhhcSs78kA2ZUz7Venrgcdi94tf89J677Md3ZA7swFW+ApGgwoZwD6sn9Gz7Yry7+FMtn8KlwScKfQRiXfvzCAx6E8OWoDMvuKVgBnKcakPLGm3GTvVJISVsYwFq0XS9l/m4sF6ubcFXUPDL2WTBdHj1XCh84Apc++T+n1Vm1WEG8hpKSvSsOaFQl7BtBIAzv7tbByYlmq6B8LQRIbugT2NFoKANEBcT5YV2yzFy1yj493XWKBzuQdsOnWfTeF2Dh87PQdXZG63XD1z5HCsT8UbGWM5w5pjAAIfIZJqWec6HSrHOYG6we+n+Ag+GdJtvDJ/FmcdFp3s7fJymZKnFaVa0qmOSaTAvheUa1dKHyzZxXl3dKlp6QpICOcpZlycgar2i5vhg/B1juwmspo/TrWXaYczdcu8DfhsXoDXohp7S55BJHhkNpwUAF9H9fU6g6D4bvMDKftuwm3sk06PbBwR9ZgweHhIBwHk2RFxhlkmmIJcIkXARtXsGRWUOqzmKNgZzVYXj/P6wdtI6EbEFzvp5MxEl+bjSco9sZilgLQ4w1KK+0hedMwwL3x7GHufjOelhCgI0Dk/eyLwrJR88Mj5FQTUOQ+Mnp6RnokFAGRkP9TbOIMRHuBGKfGN/kCrNlZ8v/c0RlqsomYc5kSiQMw=
  - secure: IHk3pgJBhl0xM61VLJH11YU1jaNR8Vp+cwI4GhxZPs8BgCPJPa3kV8o+opnj1aRcIE0vPYmFg9TlqDLtHbB3ggDEHLBmCJCvqFzfN6gQRKxvvef39739do1Nk9Z+llSvoVp+56YvLrrMVgWvLxbJqDPXSSnz9gZr6EmKjBhVTZngprvxDo0ugbjBefsbwmtpigA+h2XiZfsS3WZopS61ADO62tEG6aS+YAdS7ftn4f3YbYHFd28dPvsVCOFLr6TK4LvslcxRu73lKt9PfNUflrY++MOBljS04E/j32taCE/RYuttI6AlbTV0VsMM/TXMiunyy1ensoRFMWtzRB2e6YClPmUvZSn5w+sWWmHnP1NRqJauIwtF6+XGF+D5uk9I1tdVwP0yhP719Fde/kpP62/TZKeg4yJsLW5bCGGaYxR4BDgcQ20nSZCFWXejHhNuzzuER+G2wfbnvUVEiKed0ZIpq1T38iipZb/giJDT5l+KmLZZ/y441P9Arcc5GFleOQDJF5UeJcFuCORzzXOC/mBxYpNtgamcxzYEpmyWg8Wu4MfH7nnh8MVWadU0wI1pK3H9Uyt2ygt9VNRitUe5jpoO6U2fTQxE84AYbEyTAMdah3taLeMGTUEZdm7qMuLVRooMxDs+5sCbvVYBiu1hpTLx1ncdUMG1jY0KJPEFdrs=
  - secure: dooEe7ZXByeKPqS0Rz9HzixnCJWSrfHKERJj7VQ6GggubAdSdznM14u4hA3HYmx6cWXknBN4TyTYQXqYVH3Yeq79cWaPGVdyBEHQaQmxYO/6tzQ02IDB2FjwCIbKU6TBUwt1p9koATlJtEHt7WW7yYJglgeOB5XYL3LNISQtw7oFNK1xcUxkWYymntOnVqsUozgflujfneiZprOeMZgwPIgo/g7zI3RRcZOh0RJk2UvwiZQiUErdDW4MDhyAoY29S5T1BOKvr0aP/4oujeVeKzhVpZFffMs7Zyy8LDFUqXTWQCLS5lOOF4+PAhFEdvGWlVEiasPDlZHpFimAD54chJ+lBnlGdH2Cv2dxIR1NXfuwvzCVV+oFu3bvToQv5n9JfbNQcMtByWpcZbmgG9qc1eotdsHsAgDJBH/1y8qIomumTgLrTfhZnrjERIgYmu0hBhKMlR0L/M/NmjXDoSVvVX/sr80HNAia3Bn+VJu6uislAXtLrkQkZD74Ye80RaP5xIrg0NRsjq9AvcAa3La4VyK/tzuCJy469fcO72urAHLREYvUxVcQ2Mc4tm/BfMTSONWsvD9t7LcK+iV9mozmxFMr1su1Pom1HZC8dT2fxlXKPxUzUUNtrt6gf2mFKHNYYO+l60ONncJbvuCP07YYb0EzmOOl67uc4wcRNEvwQk4=
  - secure: BTa9dkvv3rWS0v8rlUC0yHdohdrHJBtjXBiMIuwSpTVLDBEKTfVFC2l3vyTM7cg2Pn3DTjG8qeICa7hsGZ8v+asZQTm1DRdeyfb2JIigwOymAJLonQUOolGVH8LZ1g749dO6SHsePsqtxCQ/Wea1WZJk+2l14iGVwcc3EHeQNCICPueguFVArfPOD1C6GBUNipPmWQH5ji565AdVbE+ee9GbQJARBVXPPxC93a2k7DCMEWWK5kJDgVYrjqNALE0JSutD+pJOmUenlo6NvyLQwBlRDcF173SL8NRj6aDFQLIkz8pkuss2jiZd95IYGq5sgs/v+fUTz0mqyuH8va5aRBvsH3NSUHx8okB+2nqGvqqRDC0YgSnLYI55vDp3ArUZHZgarqEEovuLYqo42G5ngtHYRAIB3Xl2gnUbTkOCgvBSZI4Um90/yyNZFjME3ThIMeTcFQINJ5wbRG0seDkBXv7YfBzVt0zNz1NJPsEVD6c/DABWSO+eOJhQJwepRBJzUF4YHQ/Y/BQZv4P6hcxhy22qv6rzK2su9SKS6+DGyEvuiK3/+64gHXh/sH500DLBnpL9HgV574woi5BU1HAMTuATH7cWTFnip/2xRsKKLH3KbU2l3TpJwWoE+30kgz4bVz/xX8FB//p3xMoS3MoYH4r9OaRfNLa+LcUp/tp3vHU=
before_install:
- gem install travis -v 1.8.5 --no-rdoc --no-ri
- sudo curl -k -o /usr/local/bin/ecs-cli https://s3.amazonaws.com/amazon-ecs-cli/ecs-cli-linux-amd64-latest
- sudo chmod +x /usr/local/bin/ecs-cli
- export BUILD_NAME=gohelpfund-$TRAVIS_BRANCH-$(date -u "+%Y%m%d%H%M%S")-$TRAVIS_BUILD_NUMBER
- export CONTAINER_IP=18.197.43.170
- export PLATFORM_TEST_NAME="gohelpfund-platform-tests"
script:
- sh travis_scripts/tag_build.sh
- sh travis_scripts/build_services.sh
- sh travis_scripts/deploy_to_docker_hub.sh
- sh travis_scripts/deploy_to_amazon_ecs.sh
# sh travis_scripts/trigger_platform_tests.sh